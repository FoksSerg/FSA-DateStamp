# Версионные сборки FSA-DateStamp

## Обзор

Система версионных сборок позволяет создавать оптимизированные версии приложения для разных версий Windows, обеспечивая максимальную совместимость и производительность.

## Структура сборок

```
Distrib/
├── Windows7/          # Сборка для Windows 7 (x86, Python 3.8-3.9)
├── Windows11/         # Сборка для Windows 8/10/11 (x64, Python 3.10+)
├── MacOS/             # Сборка для macOS (Universal Binary)
│   └── FSA-DateStamp.app/
└── Linux/             # Сборка для Linux (в разработке)
```

## Стратегии сборки

### Windows 7
- **Архитектура:** x86 (максимальная совместимость)
- **Python:** 3.8-3.9
- **Pillow:** 8.x
- **OpenCV:** 4.5.x-4.7.x
- **Особенности:** Минимальные системные требования

### Windows 8/10/11
- **Архитектура:** x64 (современные возможности)
- **Python:** 3.10-3.13
- **Pillow:** 9.x-10.x
- **OpenCV:** 4.8.x+
- **Особенности:** Оптимизированная производительность

### macOS
- **Архитектура:** Universal Binary (Intel + Apple Silicon)
- **Python:** 3.10-3.13
- **Pillow:** 9.x-10.x
- **OpenCV:** 4.8.x+
- **Особенности:** Нативная поддержка всех Mac

## Процесс сборки

1. **Автоматическое определение ОС**
   - Система определяет операционную систему при сборке
   - Выбирает соответствующую стратегию сборки

2. **Создание версионных директорий**
   - Каждая ОС собирается в свою директорию
   - Оптимизированные параметры для каждой платформы

3. **Универсальные установщики**
   - Windows: Inno Setup с автоматическим выбором версии
   - macOS: PKG и DMG установщики
   - Linux: DEB/RPM/AppImage (в разработке)

## Использование

### Сборка приложения
```bash
python3 Build.py
```

Скрипт автоматически определяет операционную систему и создает соответствующую сборку:
- **Windows** → `Windows7/` или `Windows11/` (в зависимости от версии)
- **macOS** → `MacOS/FSA-DateStamp.app/`
- **Linux** → `Linux/`

### Создание установщиков
```bash
cd ../Installer
python3 build_installer.py
# Создаст установщики для текущей ОС
```

## Требования

### Для Windows 7
- Python 3.8-3.9
- requirements_windows7.txt

### Для Windows 8+
- Python 3.10-3.13
- requirements_windows8plus.txt

## Преимущества

1. **Максимальная совместимость** - каждая версия оптимизирована для своей ОС
2. **Минимальный размер** - только необходимые компоненты
3. **Надежность** - тестировано на реальных системах
4. **Простота** - один установщик для всех версий

## Устранение неполадок

### Ошибка "api-ms-win-core-path-l1-1-0.dll"
- Используйте сборку для Windows 7
- Установите Visual C++ Redistributable

### Ошибка "Failed to load Python DLL"
- Проверьте версию Python
- Используйте соответствующую версию сборки
